<!DOCTYPE html>
<html>

	<head>
		<title>NRTC Tree Hazard Identification Simulation</title>
		<meta charset="utf-8"/>
		<!-- Main A-Frame framework -->
		<script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <!-- Event-set Component -->
    <script src="https://unpkg.com/aframe-event-set-component@3.x.x/dist/aframe-event-set-component.min.js"></script>
		<!-- Videoplayer Componenet -->
		<script src="scripts/vid-control.js"></script>
	</head>

	<body>
		<a-scene>

			<a-assets>
				<img id="displace" src="images/waterdisplacement.jpg">
				<img id="groundtex" src="images/groundtex.png">
				<img id="fireringtex" src="images/granitelichen.png">
				<img id="subalptex" src="images/subalp.png">
				<a-asset-item id="ground-obj" src="models/terrain2.obj"></a-asset-item>
				<a-asset-item id="firering-obj" src="models/firering.obj"></a-asset-item>
				<a-asset-item id="subalp-obj" src="models/subalp.obj"></a-asset-item>
				<video id="tutorialvid" src="video/THISIntroductionv1.mp4"></video>
			</a-assets>

			<!-- Setup Camera And Cursor -->
			<a-entity
				id="camerarig"
				position="5.3 1.6 11.123"
				rotation="0 106 0">
				<a-camera id="camera"
					look-controls
					wasd-controls="fly: true">
					<a-cursor
						id="cursor"
						animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
						animation__fusing="property: scale; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
						animation__exit="property: scale; startEvents: mouseleave; to: 1 1 1; dur: 150"
						event-set__1="_event: mouseenter; color: springgreen"
						event-set__2="_event: mouseleave; color: black"
						fuse="true"
						raycaster="objects: .link">
					</a-cursor>
				</a-camera>
			</a-entity>

			<!-- Setup Scene -->
			<a-entity
				light="type: directional; color: #fdf3d7; intensity: 1; castShadow: true"
				position="-25 30 -75">
			</a-entity>

			<a-sky
				color="#00bfff">
			</a-sky>

			<a-entity id="terrain">
				<a-obj-model
					id="ground"
					src="#ground-obj"
					mtl=""
					position="-7 -1 -11"
					rotation="0 0 0"
					scale="4 4 4"
					shadow
					material="src: #groundtex; roughness: 1; metalness: 0">
				</a-obj-model>

				<a-box id="lake" height=".5" width="40" depth="40"
					position="-14.94 -1.98 -7.64"
					rotation="0 0 0"
					material="color: #256d7b; opacity: .9; roughness: .1; metalness: .9; normalMap: #displace; normalScale: .05 .05; normalTextureRepeat: 10 10">
				</a-box>
			</a-entity>

			<a-entity id="campsite">
				<a-obj-model
					id="firering"
					src="#firering-obj"
					mtl=""
					position="2.45 -1.47 9.16"
					rotation="0 0 0"
					scale=".1 .1 .1"
					shadow
					material="src: #fireringtex; repeat: 5 5; roughness: 1; metalness: .1">
				</a-obj-model>
				<a-entity id="videosetup"
					position="1.469 -.536 12.314"
					rotation="0 0 0">
					<a-video id="vidscreen" src="#tutorialvid" width=".8" height=".45" position="0 .692 0" rotation="-30 110 0"></a-video>
					<a-box id="playbutton" class="link" shadow color="green" scale=".2 .2 .2" position=".04 -.427 -.6" vid-control="on: click; cmd: play"></a-box>
					<a-cylinder id="stump" shadow radius=".4"></a-cylinder>
				</a-entity>
			</a-entity>

			<a-entity id="vegetation">
				<!-- Clump -->
				<a-entity id="clump1">
					<a-obj-model
						id="tree1"
						src="#subalp-obj"
						mtl=""
						position="2.45 -1.17 -12.85"
						rotation="0 0 0"
						scale="4 2.6 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree2"
						src="#subalp-obj"
						mtl=""
						position="3.02 -1.12 -10.53"
						rotation="0 15 6"
						scale="2 1.6 2"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree3"
						src="#subalp-obj"
						mtl=""
						position="1.55 -1.29 -13.82"
						rotation="0 30 0"
						scale="2.8 4 2.8"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree4"
						src="#subalp-obj"
						mtl=""
						position=".81 -1.08 -12.18"
						rotation="-4 15 0"
						scale="3.2 2.6 3.2"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
				</a-entity>

				<!-- CLUMP -->
				<a-entity id="clump2">
					<a-obj-model
						id="tree5"
						src="#subalp-obj"
						mtl=""
						position="-8.17 -.18 23.43"
						rotation="0 45 0"
						scale="2.6 4 2.6"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree6"
						src="#subalp-obj"
						mtl=""
						position="-6.78 .43 19.5"
						rotation="-3.4 0 .3"
						scale="2.8 4.2 2.8"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree7"
						src="#subalp-obj"
						mtl=""
						position="-11.57 1.32 19.8"
						rotation="0 15 0"
						scale="3 2.4 3"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree8"
						src="#subalp-obj"
						mtl=""
						position="-12.18 -1.24 14.46"
						rotation="-4 15 0"
						scale="4 4.4 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree9"
						src="#subalp-obj"
						mtl=""
						position="-13.28 -1.27 11.96"
						rotation="0 30 0"
						scale="2.4 2.4 2.4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree10"
						src="#subalp-obj"
						mtl=""
						position="-16.06 -1.4 12.37"
						rotation="4 15 0"
						scale="4 3.6 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
				</a-entity>

				<!-- CLUMP -->
				<a-entity id="clump3">
					<a-obj-model
						id="tree11"
						src="#subalp-obj"
						mtl=""
						position="-27.56 -1.13 -17.7"
						rotation="0 45 0"
						scale="2.6 4 2.6"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree12"
						src="#subalp-obj"
						mtl=""
						position="-35.17 -1.18 -12.779"
						rotation="-3.4 0 .3"
						scale="2.8 4.2 2.8"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree13"
						src="#subalp-obj"
						mtl=""
						position="-29.74 .32 -16.71"
						rotation="0 15 0"
						scale="3 2.4 3"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree14"
						src="#subalp-obj"
						mtl=""
						position="-25.28 -1.3 -32.23"
						rotation="-4 15 0"
						scale="4 4.4 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree15"
						src="#subalp-obj"
						mtl=""
						position="-34.88 2.3 -21.8"
						rotation="0 30 0"
						scale="2.4 2.4 2.4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree16"
						src="#subalp-obj"
						mtl=""
						position="-41.6 2.13 -23.39"
						rotation="4 15 0"
						scale="4 3.6 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
				</a-entity>

				<!-- Clump -->
				<a-entity id="clump4">
					<a-obj-model
						id="tree17"
						src="#subalp-obj"
						mtl=""
						position="-36.46 -1.34 1.16"
						rotation="0 0 0"
						scale="4 2.6 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree18"
						src="#subalp-obj"
						mtl=""
						position="-30.81 -1.12 4"
						rotation="0 15 6"
						scale="2 1.6 2"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree19"
						src="#subalp-obj"
						mtl=""
						position="-34.69 -.34 21.25"
						rotation="0 30 0"
						scale="2.8 4 2.8"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree20"
						src="#subalp-obj"
						mtl=""
						position="-42.6 -.75 9.3"
						rotation="-4 15 0"
						scale="3.2 2.6 3.2"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree21"
						src="#subalp-obj"
						mtl=""
						position="-29.48 1.8 22.86"
						rotation="0 30 0"
						scale="2.4 2.4 2.4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
					<a-obj-model
						id="tree22"
						src="#subalp-obj"
						mtl=""
						position="-34.25 .04 13.23"
						rotation="4 15 0"
						scale="4 3.6 4"
						shadow
						material="src: #subalptex; roughness: 1; metalness: .1; transparent: true; alphaTest: .8; side: double">
					</a-obj-model>
				</a-entity>
			</a-entity>

			<!-- Links To Trees -->
			<a-entity id="linklist"
				position="1.3 .5 -2"
				rotation="0 -60 0">
				<a-link
					href="https://s3-us-west-2.amazonaws.com/ntdpvr/NRTC+VR+Tree+Sizeup/Scenario+Resources/Rec+1/rec1.html"
					id="rec1link"
					class="link"
					title="Rec 1"
					position="0 0 0"
					rotation="0 0 0"
					scale=".2 .2 .2">
				</a-link>
				<a-link
					href="https://ntdpvr.s3-us-west-2.amazonaws.com/NRTC+VR+Tree+Sizeup/AmbroseSaddle/ambrosesaddle.html"
					id="ambroselink"
					class="link"
					title="Ambrose Saddle"
					position="1 0 0"
					rotation="0 0 0"
					scale=".2 .2 .2">
				</a-link>
			</a-entity>

		</a-scene>
	</body>
</html>
